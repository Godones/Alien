if [ -f "tools/fs.img" ]; then \
	rm tools/fs.img; \
	touch tools/fs.img; \
fi
mkfs.fat 4.2 (2021-01-31)
make[1]: è¿›å…¥ç›®å½•â€œ/home/godones/projects/Alien/appsâ€
Building apps
Moving apps to /fat32/bin
make[1]: ç¦»å¼€ç›®å½•â€œ/home/godones/projects/Alien/appsâ€
if [ -d "sdcard" ]; then \
	sudo cp sdcard/* /fat -r; \
	sudo cp sdcard/* /fat/bin -r;\
fi
if [ -d "tools/siglibc" ]; then \
	sudo cp tools/siglibc/build/* /fat/libc -r; \
fi
qemu booot 1
qemu-system-riscv64 -M virt  -bios default -device loader,file=kernel-qemu,addr=0x80200000 -drive file=tools/fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0 -kernel  kernel-qemu --nographic -smp 1 -m 256M -serial mon:stdio

OpenSBI v1.0
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ < | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name             : riscv-virtio,qemu
Platform Features         : medeleg
Platform HART Count       : 1
Platform IPI Device       : aclint-mswi
Platform Timer Device     : aclint-mtimer @ 10000000Hz
Platform Console Device   : uart8250
Platform HSM Device       : ---
Platform Reboot Device    : sifive_test
Platform Shutdown Device  : sifive_test
Firmware Base             : 0x80000000
Firmware Size             : 252 KB
Runtime SBI Version       : 0.3

Domain0 Name              : root
Domain0 Boot HART         : 0
Domain0 HARTs             : 0*
Domain0 Region00          : 0x0000000002000000-0x000000000200ffff (I)
Domain0 Region01          : 0x0000000080000000-0x000000008003ffff ()
Domain0 Region02          : 0x0000000000000000-0xffffffffffffffff (R,W,X)
Domain0 Next Address      : 0x0000000080200000
Domain0 Next Arg1         : 0x000000008f000000
Domain0 Next Mode         : S-mode
Domain0 SysReset          : yes

Boot HART ID              : 0
Boot HART Domain          : root
Boot HART ISA             : rv64imafdcsuh
Boot HART Features        : scounteren,mcounteren,time
Boot HART PMP Count       : 16
Boot HART PMP Granularity : 4
Boot HART PMP Address Bits: 54
Boot HART MHPM Count      : 0
Boot HART MIDELEG         : 0x0000000000001666
Boot HART MEDELEG         : 0x0000000000f0b509
[0] 
     _      _   _
    / \    | | (_)   ___   _ __
   / _ \   | | | |  / _ \ | '_ \
  / ___ \  | | | | |  __/ | | | |
 /_/   \_\ |_| |_|  \___| |_| |_|

[0] MachineInfo {
    model: "riscv-virtio,qemu\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",
    smp: 0x1,
    memory: 0x80000000..0x90000000,
    uart: [
        UartInfo {
            base: 0x10000000,
            irq: 0xa,
        },
    ],
    plic: 0xc000000..0xc600000,
    clint: 0x2000000..0x2010000,
    rtc: RtcInfo {
        range: 0x101000..0x102000,
        irq: 0xc,
    },
}
[0] kernel text:   0x80200000-0x802cc000
[0] kernel rodata: 0x802cc000-0x80302000
[0] kernel data:   0x80302000-0x80314000
[0] kernel bss:    0x80314000-0x80317000
[0] kernel heap:   0x80317000-0x90000000
[0] Init logger Some("WARN")
[0] Print init success
[0] memory start:0x80317000,end:0x90000000
[0] page start:0x80317,end:0x90000,count:0xfce9
[0] Frame allocator init success
[0] slab allocator init success
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525089 } start:0x80321000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525092 } start:0x80324000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525094 } start:0x80326000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525100 } start:0x8032c000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525101 } start:0x8032d000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525103 } start:0x8032f000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525104 } start:0x80330000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525105 } start:0x80331000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525107 } start:0x80333000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 525108 } start:0x80334000[0m
[0] build kernel address space success
[0] activate paging mode success
[0] device tree @ 0x8f000000
[0] probe rtc device
[0] plic enable irq 11 for hart 0, priority 1
[0] init rtc success, current time: 2023-7-22 10:48:40
[0] probe uart device
[0] plic enable irq 10 for hart 0, priority 1
[0] [31m[ERROR] alloc frame 2 start:0x80335[0m
[0] blk device size is 256MB
[0] virtio-blk init finished
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] [93m[WARN] Error creating VirtIO MMIO transport: Device ID was zero.[0m
[0] 1 cpus in total
[0] vfs init done
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527222 } start:0x80b76000[0m
[0] [93m[WARN] ELF tls: 0x0[0m
[0] [93m[WARN] load segment: 0x0 - 0x2f16 -> 0x0-0x3000, permission: V | R | X | U | A | D[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527223 } start:0x80b77000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527224 } start:0x80b78000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b79[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7b[0m
[0] [93m[WARN] load segment: 0x3000 - 0x4a70 -> 0x3000-0x5000, permission: V | R | U | A | D[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7d[0m
[0] [93m[WARN] load segment: 0x5000 - 0x6129 -> 0x5000-0x7000, permission: V | R | W | U | A | D[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b7f[0m
[0] [93m[WARN] user stack: 0x8000 - 0x48000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b80[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b81[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b82[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b83[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b84[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b85[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b86[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b87[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b88[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b89[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b8f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b90[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b91[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b92[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b93[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b94[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b95[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b96[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b97[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b98[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b99[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80b9f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba0[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba1[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba2[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba3[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba4[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba5[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba6[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba7[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba8[0m
[0] [31m[ERROR] alloc frame 1 start:0x80ba9[0m
[0] [31m[ERROR] alloc frame 1 start:0x80baa[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bab[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bac[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bad[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bae[0m
[0] [31m[ERROR] alloc frame 1 start:0x80baf[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb0[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb1[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb2[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb3[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb4[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb5[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb6[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb7[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb8[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bb9[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bba[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bbb[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bbc[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bbd[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bbe[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bbf[0m
[0] [93m[WARN] trap context: 0xffffffffffffd000 - 0xffffffffffffe000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527296 } start:0x80bc0000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527297 } start:0x80bc1000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bc2[0m
[0] [93m[WARN] TRAMPOLINE: 0xffffffffffffe000 - 0xfffffffffffff000[0m
[0] [93m[WARN] elf: no phdr found, tls might not work[0m
[0] [93m[WARN] entry: 0xbbc, phdr:0x0[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bc3[0m
[0] init process success
[0] all cpu start
[0] [93m[WARN] clone: flag:(empty), sig:ERR, stack:0x0, ptid:0x0, tls:0x0, ctid:0x0[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527304 } start:0x80bc8000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527306 } start:0x80bca000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527307 } start:0x80bcb000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527308 } start:0x80bcc000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527309 } start:0x80bcd000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bce[0m
[0] [31m[ERROR] alloc frame 4 start:0x80bcf[0m
[0] [93m[WARN] create task pid:1, tid:1[0m
[0] [31m[ERROR] [User][tid:0] Exception(StorePageFault) in application,stval:0x47ecc sepc:0xc0[0m
[0] [31m[ERROR] alloc frame 1 start:0x80bd3[0m
[0] [93m[WARN] exec path: /bin/shell[0m
[0] [93m[WARN] exec args: [] ,env: [][0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527866 } start:0x80dfa000[0m
[0] [93m[WARN] ELF tls: 0x0[0m
[0] [93m[WARN] load segment: 0x0 - 0x6cda -> 0x0-0x7000, permission: V | R | X | U | A | D[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527867 } start:0x80dfb000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527868 } start:0x80dfc000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80dfd[0m
[0] [31m[ERROR] alloc frame 1 start:0x80dfe[0m
[0] [31m[ERROR] alloc frame 1 start:0x80dff[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e00[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e01[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e02[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e03[0m
[0] [93m[WARN] load segment: 0x7000 - 0x8ee0 -> 0x7000-0x9000, permission: V | R | U | A | D[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e04[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e05[0m
[0] [93m[WARN] load segment: 0x9000 - 0xa149 -> 0x9000-0xb000, permission: V | R | W | U | A | D[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e06[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e07[0m
[0] [93m[WARN] user stack: 0xc000 - 0x4c000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e08[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e09[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e0f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e10[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e11[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e12[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e13[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e14[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e15[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e16[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e17[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e18[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e19[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e1f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e20[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e21[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e22[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e23[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e24[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e25[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e26[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e27[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e28[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e29[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e2f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e30[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e31[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e32[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e33[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e34[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e35[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e36[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e37[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e38[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e39[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3b[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3c[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3d[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3e[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e3f[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e40[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e41[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e42[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e43[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e44[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e45[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e46[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e47[0m
[0] [93m[WARN] trap context: 0xffffffffffffd000 - 0xffffffffffffe000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527944 } start:0x80e48000[0m
[0] [31m[ERROR] PageAllocator alloc frameFrameTracker { id: 527945 } start:0x80e49000[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e4a[0m
[0] [93m[WARN] TRAMPOLINE: 0xffffffffffffe000 - 0xfffffffffffff000[0m
[0] [93m[WARN] elf: no phdr found, tls might not work[0m
[0] [93m[WARN] entry: 0x4286, phdr:0x0[0m
[0] [93m[WARN] args:[], env:["LD_LIBRARY_PATH=/", "PS1=\u{1b}[1m\u{1b}[32mAlien\u{1b}[0m:\u{1b}[1m\u{1b}[34m\\w\u{1b}[0m\\$ \0", "PATH=/bin:/usr/bin", "UB_BINDIR=./"], user_sp: 0x4be40[0m

    Alien OS Shell
    Type 'help' for a list of commands
    
[0] [31m[ERROR] [User][tid:1] Exception(StorePageFault) in application,stval:0x4c000 sepc:0x392a[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e4b[0m
[0] [31m[ERROR] [User][tid:1] Exception(StorePageFault) in application,stval:0x4d000 sepc:0x3aae[0m
[0] [31m[ERROR] alloc frame 1 start:0x80e4c[0m
/ > QEMU: Terminated
