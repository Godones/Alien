[package]
name = "kernel"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
ksync = { path = "../base/ksync" }
constants = { path = "../base/constants" }
platform = { path = "../base/platform" }
config = { path = "../base/config" }
mem = { path = "../base/mem" }
arch = { path = "../base/arch" }

riscv = "0"
log = "0"
fdt = { path = "../safe-crates/fdt" }
xmas-elf = "0.9"

spin = { workspace = true }
context = { path = "../safe-crates/context" }
rref = { path = "../domain-tools/rref" }
interface = { path = "../domain-tools/interface" }
corelib = { path = "../domain-tools/corelib" }
basic = { path = "../domain-tools/basic" }
vfscore = { git = "https://github.com/os-module/rvfs.git" } #safe-crate
cpio_reader = { version = "0.1.1" } #safe-crate
libflate = { version = "2.0.0", default-features = false } #safe-crate
core2 = { version = "0.4", default-features = false }

[features]
default = ["smp"]
smp = ["platform/smp"]
gui = []